<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · Mango.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Mango.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../getting_started/">Getting Started</a></li><li><a class="tocitem" href="../agent/">Agents</a></li><li><a class="tocitem" href="../container/">Container</a></li><li><a class="tocitem" href="../role/">Roles</a></li><li><a class="tocitem" href="../simulation/">Simulation</a></li><li><a class="tocitem" href="../encode_decode/">Codecs</a></li><li><a class="tocitem" href="../scheduling/">Scheduling</a></li><li><a class="tocitem" href="../topology/">Topologies</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Express"><span>Express</span></a></li><li class="toplevel"><a class="tocitem" href="#Agent-and-Roles"><span>Agent and Roles</span></a></li><li class="toplevel"><a class="tocitem" href="#Real-time-container"><span>Real time container</span></a></li><li class="toplevel"><a class="tocitem" href="#Simulation"><span>Simulation</span></a></li><li class="toplevel"><a class="tocitem" href="#Scheduling"><span>Scheduling</span></a></li><li class="toplevel"><a class="tocitem" href="#Topology"><span>Topology</span></a></li><li class="toplevel"><a class="tocitem" href="#Encoding/Decoding"><span>Encoding/Decoding</span></a></li><li class="toplevel"><a class="tocitem" href="#Misc"><span>Misc</span></a></li></ul></li><li><a class="tocitem" href="../legals/">Legals</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/OFFIS-DAI/Mango.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><h1 id="Express"><a class="docs-heading-anchor" href="#Express">Express</a><a id="Express-1"></a><a class="docs-heading-anchor-permalink" href="#Express" title="Permalink"></a></h1><p>This part contains basic convenience functions for creating and running Mango.jl simulations. </p><article class="docstring"><header><a class="docstring-binding" id="Mango.PrintingAgent" href="#Mango.PrintingAgent"><code>Mango.PrintingAgent</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Simple agent just printing every message to @info.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.activate-Union{Tuple{T}, Tuple{Function, Vector{T}}} where T&lt;:ContainerInterface" href="#Mango.activate-Union{Tuple{T}, Tuple{Function, Vector{T}}} where T&lt;:ContainerInterface"><code>Mango.activate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">activate(runnable, container_list)</code></pre><p>Actvate the container(s), which includes starting the containers and shutting them down after the runnable has been executed. </p><p>In most cases the runnable will execute code, which starts some process  (e.g. some distributed negotiation) in the system to define the objective of the agent system.</p><p>Generally this function is a convenience function and is equivalent to starting all containers  in the list, executing the code represented by <code>runnable</code> and shuting down the container again. Further, this function will handle errors occuring while running the <code>runnable</code> and ensure the containers are shutting down.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">activate(your_containers) do 
   # Send the first message to start the system
   send_message(defined_agent, &quot;Starting somethin&quot;, address(other_defined_agent))

   # wait some time
   wait(some_stopping_condition)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.add_agent_composed_of-Tuple{ContainerInterface, Vararg{Role}}" href="#Mango.add_agent_composed_of-Tuple{ContainerInterface, Vararg{Role}}"><code>Mango.add_agent_composed_of</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">add_agent_composed_of(container, roles::Role...; suggested_aid::Union{Nothing,String}=nothing, base_agent::Union{Nothing,Agent}=nothing)</code></pre><p>Create an agent which is composed of the given roles <code>roles...</code> and register the agent  to the <code>container</code>. </p><p>If no <code>base_agent</code> is provided the agent struct used is an empty struct, which is  only used as a container for the roles. The agent will be returned by the function.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">agent = add_agent_composed_of(your_container, RoleA(), RoleB(), RoleC())</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.agent_composed_of-Tuple{Vararg{Role}}" href="#Mango.agent_composed_of-Tuple{Vararg{Role}}"><code>Mango.agent_composed_of</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">agent_composed_of(roles::Role...; base_agent::Union{Nothing,Agent}=nothing)</code></pre><p>Create an agent which is composed of the given roles <code>roles...</code>.</p><p>If no <code>base_agent</code> is provided the agent struct used is an empty struct, which is  only used as a container for the roles. The agent will be returned by the function.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">agent = agent_composed_of(RoleA(), RoleB(), RoleC())</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.create_mqtt_container" href="#Mango.create_mqtt_container"><code>Mango.create_mqtt_container</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_mqtt_container(host, port, client_id; codec=nothing)</code></pre><p>Create a container using an MQTT protocol. </p><p>The <code>host</code> is expected to be the IP-adress of the broker, <code>port</code> is the port of the broker,  the <code>client_id</code> is the id of the client which will be created and connected to the broker.  Optionally you can also provide a codec as tuple of functions (first encode, second decode, see  <a href="#Mango.encode-Tuple{Any}"><code>encode</code></a> and <a href="#Mango.decode"><code>decode</code></a>).</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">agent = create_mqtt_container(&quot;127.0.0.1&quot;, 5555, &quot;MyClient&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.create_tcp_container" href="#Mango.create_tcp_container"><code>Mango.create_tcp_container</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_tcp_container(host, port; codec=nothing)</code></pre><p>Create a container using an TCP protocol. </p><p>The <code>host</code> is expected to be the IP-adress to bind on, <code>port</code> is the port to bind on. Optionally you  can also provide a codec as tuple of functions (first encode, second decode, see  <a href="#Mango.encode-Tuple{Any}"><code>encode</code></a> and <a href="#Mango.decode"><code>decode</code></a>).</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">agent = create_mqtt_container(&quot;127.0.0.1&quot;, 5555, &quot;MyClient&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.run_in_real_time-Tuple{Function, Int64, Function, Vararg{Union{Tuple, Agent}}}" href="#Mango.run_in_real_time-Tuple{Function, Int64, Function, Vararg{Union{Tuple, Agent}}}"><code>Mango.run_in_real_time</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">run_in_real_time(runnable::Function,
n_container::Int,
container_list_creator::Function,
agents::Union{Tuple,Agent}...)</code></pre><p>Let the agents run in containers (real time).</p><p>Distributes the given <code>agents</code> to <code>n_container</code> (real time container) and execute the <code>runnable</code>  (takes the container list as argument) while the container are active to run. It is possible to  add supplementary information per agent as Tuple. For example <code>(Agent, :aid =&gt; &quot;my_aid&quot;)</code>. The type of the containers are determined by the <code>container_list_creator</code> (n<em>container as argument, has to return a list of container with n</em>container entries).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.run_in_simulation-Tuple{Function, Int64, Vararg{Agent}}" href="#Mango.run_in_simulation-Tuple{Function, Int64, Vararg{Agent}}"><code>Mango.run_in_simulation</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">run_in_simulation(runnable::Function, agents::Agent, n_steps::Int; start_time::DateTime=DateTime(2000, 1, 1), step_size_s::Int=DISCRETE_EVENT)</code></pre><p>Let the agents run as simulation in a simulation container.</p><p>Execute the <code>runnable</code> in <a href="#Mango.SimulationContainer"><code>SimulationContainer</code></a> while the container is active to run. After the runnable the simulation container is stepped <code>n_steps</code> time with a <code>step_size_s</code> (default is discrete event). The start time can be specified using <code>start_time</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.run_with_mqtt-Tuple{Function, Int64, Vararg{Union{Tuple, Agent}}}" href="#Mango.run_with_mqtt-Tuple{Function, Int64, Vararg{Union{Tuple, Agent}}}"><code>Mango.run_with_mqtt</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">run_with_mqtt(runnable::Function,
n_container::Int,
agents::Union{Tuple,Agent}...;
broker_host::String=&quot;127.0.0.1&quot;,
broker_port::Int=1883,
codec::Union{Nothing,Tuple{Function,Function}}=(encode, decode))</code></pre><p>Let the agents run in mqtt containers (real time).</p><p>Distributes the given <code>agents</code> to <code>n_container</code> (real time container) and execute the <code>runnable</code>  (takes the container list as argument) while the container are active to run. Here, MQTT container are created with the broker on <code>broker_host</code> and at the port <code>broker_port</code>. The containers are assignede client ids (client1 client2 ...)  </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.run_with_tcp-Tuple{Function, Int64, Vararg{Union{Tuple, Agent}}}" href="#Mango.run_with_tcp-Tuple{Function, Int64, Vararg{Union{Tuple, Agent}}}"><code>Mango.run_with_tcp</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">run_with_tcp(runnable::Function,
n_container::Int,
agents::Union{Tuple,Agent}...;
host::String=&quot;127.0.0.1&quot;,
start_port::Int=5555,
codec::Union{Nothing,Tuple{Function,Function}}=(encode, decode))</code></pre><p>Let the agents run in tcp containers (real time).</p><p>Distributes the given <code>agents</code> to <code>n_container</code> (real time container) and execute the <code>runnable</code>  (takes the container list as argument) while the container are active to run. Here, TCP container are created on <code>host</code> starting with the port <code>start_port</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><h1 id="Agent-and-Roles"><a class="docs-heading-anchor" href="#Agent-and-Roles">Agent and Roles</a><a id="Agent-and-Roles-1"></a><a class="docs-heading-anchor-permalink" href="#Agent-and-Roles" title="Permalink"></a></h1><p>Here, the API for the agent structs created with @agent/@role is listed. </p><article class="docstring"><header><a class="docstring-binding" id="Mango.address-Tuple{Mango.AgentInterface}" href="#Mango.address-Tuple{Mango.AgentInterface}"><code>Mango.address</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">address(agent)</code></pre><p>Return the agent address of the agent as <a href="#Mango.AgentAddress"><code>AgentAddress</code></a> or <a href="#Mango.MQTTAddress"><code>MQTTAddress</code></a> depending on the protocol.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.aid-Tuple{Mango.AgentInterface}" href="#Mango.aid-Tuple{Mango.AgentInterface}"><code>Mango.aid</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">aid(agent)</code></pre><p>Return the aid of the agent.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.forward_to-Tuple{Mango.AgentInterface, Any, Address, AbstractDict}" href="#Mango.forward_to-Tuple{Mango.AgentInterface, Any, Address, AbstractDict}"><code>Mango.forward_to</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">forward_to(agent, content, forward_to_address, received_meta; kwargs...)</code></pre><p>Forward the message to a specific agent using the metadata received on handling the message. This method essentially simply calls send_message on the input given, but also adds and fills the correct metadata fields to mark the message as forwarded. </p><p>For this the following meta data is set.</p><ul><li>&#39;forwarded=true&#39;,</li><li>&#39;forwarded<em>from</em>address=address of the original sender&#39;,</li><li>&#39;forwarded<em>from</em>id=id of the original sender&#39;</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.reply_to-Tuple{Mango.AgentInterface, Any, AbstractDict}" href="#Mango.reply_to-Tuple{Mango.AgentInterface, Any, AbstractDict}"><code>Mango.reply_to</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">reply_to(
agent::AgentInterface,
content::Any,
received_meta::AbstractDict,</code></pre><p>)</p><p>Convenience method to reply to a received message using the meta the agent received. This reduces the regular <code>send_message</code> as response <code>send_message(agent, &quot;Pong&quot;, AgentAddress(aid=meta[&quot;sender_id&quot;], address=meta[&quot;sender_addr&quot;]))</code> to <code>reply_to(agent, &quot;Pong&quot;, meta)</code></p><p>Furthermore it guarantees that agent address (including the tracking id, which is part of the address!) is correctly passed to the mango container.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.send_and_handle_answer-Tuple{Function, Mango.AgentInterface, Any, Address}" href="#Mango.send_and_handle_answer-Tuple{Function, Mango.AgentInterface, Any, Address}"><code>Mango.send_and_handle_answer</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">send_and_handle_answer(
response_handler::Function,
agent::AgentInterface,
content::Any,
agent_address::Address;
calling_object::Any=nothing,
kwargs...)</code></pre><p>Convenience method for sending tracked messages with response handler to the answer.</p><p>Sends a tracked message with a required response_handler to enable to use the syntax</p><pre><code class="nohighlight hljs">send_and_handle_answer(...) do agent, message, meta
	# handle the answer
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.send_message-Tuple{Mango.AgentInterface, Any, Address}" href="#Mango.send_message-Tuple{Mango.AgentInterface, Any, Address}"><code>Mango.send_message</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">send_message(
agent::AgentInterface,
content::Any,
agent_address::Address;
kwargs...,</code></pre><p>)</p><p>Send a message with the content <code>content</code> to the agent represented by <code>agent_address</code>. </p><p>This method will always set a sender_id. Additionally, further keyword arguments can be defined to fill the  internal meta data of the message.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.send_tracked_message-Tuple{Mango.AgentInterface, Any, Address}" href="#Mango.send_tracked_message-Tuple{Mango.AgentInterface, Any, Address}"><code>Mango.send_tracked_message</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">send_tracked_message(
agent::AgentInterface,
content::Any,
agent_address::Address;
response_handler::Function=(agent, message, meta) -&gt; nothing,
calling_object::Any=nothing,
kwargs...,</code></pre><p>)</p><p>Send a message with the content <code>content</code> to the agent represented by <code>agent_address</code>. This function will set a generated tracking_id to the address, which allows the identification of the dialog. </p><p>It is possible to define a <code>response_handler</code>, to which a function can be assigned, which handles the answer  to this message call. Note that the resonding agent needs to use the same tracking id in the response, ideally <a href="#Mango.reply_to-Tuple{Mango.AgentInterface, Any, AbstractDict}"><code>reply_to</code></a> is used to achieve this automatically. </p><p>This method will always set a sender_id. Additionally, further keyword arguments can be defines to fill the  internal meta data of the message.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.Address" href="#Mango.Address"><code>Mango.Address</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Supertype of all address types</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.Agent" href="#Mango.Agent"><code>Mango.Agent</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Base-type for all agents in mango. Generally exists for type-safety and default implementations across all agents.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.@agent-Tuple{Any}" href="#Mango.@agent-Tuple{Any}"><code>Mango.@agent</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Macro for defining an agent struct. Expects a struct definition as argument.</p><p>The macro does 3 things:</p><ol><li>It adds all baseline fields, defined in <code>AGENT_BASELINE_FIELDS</code> (the agent context <code>context</code>, the role handler <code>role_handler</code>, and the <code>aid</code>)</li><li>It adds the supertype <code>Agent</code> to the given struct.</li><li>It applies <a href="#Mango.@with_def-Tuple{Any}"><code>@with_def</code></a> for default construction, the baseline fields are assigned to default values</li></ol><p><strong>Example</strong></p><p>For example the usage could like this.</p><pre><code class="language-julia hljs">@agent struct MyAgent
	my_own_field::String
end

# results in

@with_def mutable struct MyAgent &lt;: Agent
	# baseline fields...
	my_own_field::String
    my_own_field_with_default::String = &quot;Default&quot;
end

# so you would construct your agent like this

my_agent = MyAgent(&quot;own value&quot;, my_own_field_with_default=&quot;OtherValue&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.schedule-Tuple{Function, Agent, TaskData}" href="#Base.schedule-Tuple{Function, Agent, TaskData}"><code>Base.schedule</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">schedule(f::Function, agent::Agent, data::TaskData)</code></pre><p>Delegates to the scheduler <code>Scheduler</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.add-Tuple{Agent, Role}" href="#Mango.add-Tuple{Agent, Role}"><code>Mango.add</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">add(agent::Agent, role::Role)</code></pre><p>Add a role to the agent. This will add the role to the internal RoleHandler of the agent and it will bind the RoleContext to the role, which enables the role to interact with its environment.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.add_forwarding_rule-Tuple{Agent, AgentAddress, AgentAddress, Bool}" href="#Mango.add_forwarding_rule-Tuple{Agent, AgentAddress, AgentAddress, Bool}"><code>Mango.add_forwarding_rule</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">add_forwarding_rule(agent, from_addr::AgentAddress, to_address::AgentAddress, forward_replies::Bool)</code></pre><p>Add a rule for message forwarding.</p><p>After calling the agent will auto-forward every message coming from <code>from_addr</code> to <code>to_address</code>. If forward<em>replies is set, all replies from `to</em>address<code>are forwarded back to</code>from_addr`.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.add_service!-Tuple{Agent, Any}" href="#Mango.add_service!-Tuple{Agent, Any}"><code>Mango.add_service!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">add_service!(agent, service)</code></pre><p>Add a service to the agent. Every service can exists exactly one time (stored by type).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.delete_forwarding_rule-Tuple{Agent, AgentAddress, Union{Nothing, AgentAddress}}" href="#Mango.delete_forwarding_rule-Tuple{Agent, AgentAddress, Union{Nothing, AgentAddress}}"><code>Mango.delete_forwarding_rule</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">delete_forwarding_rule(agent, from_addr::AgentAddress, to_address::Union{Nothing,AgentAddress})</code></pre><p>Delete an added forwarding rule. If <code>to_address</code> is not set, all rules are removed matching <code>from_addr</code>. If it set, both addresses need to match.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.handle_message-Tuple{Agent, Any, Any}" href="#Mango.handle_message-Tuple{Agent, Any, Any}"><code>Mango.handle_message</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">handle_message(agent::Agent, message::Any, meta::Any)</code></pre><p>Defines a function for an agent, which will be called when a message is dispatched to the agent. This methods will be called with any arriving message (according to the multiple dispatch of julia).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.on_ready-Tuple{Agent}" href="#Mango.on_ready-Tuple{Agent}"><code>Mango.on_ready</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">on_ready(agent::Agent)</code></pre><p>Lifecycle Hook-in function called when the agent system as a whole is ready, the  hook-in has to be manually activated using notify_ready(container::Container). If you use     the <code>activate</code> function, it is called automatically.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.on_start-Tuple{Agent}" href="#Mango.on_start-Tuple{Agent}"><code>Mango.on_start</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">on_start(agent::Agent)</code></pre><p>Lifecycle Hook-in function called when the container of the agent has been started, depending on the container type it may not be called (if there is no start at all,  f.e. the simulation container)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.roles-Tuple{Agent}" href="#Mango.roles-Tuple{Agent}"><code>Mango.roles</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">roles(agent)</code></pre><p>Return all roles of the given agent</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.service_of_type-Union{Tuple{T}, Tuple{Agent, Type{T}}, Tuple{Agent, Type{T}, Union{Nothing, T}}} where T" href="#Mango.service_of_type-Union{Tuple{T}, Tuple{Agent, Type{T}}, Tuple{Agent, Type{T}, Union{Nothing, T}}} where T"><code>Mango.service_of_type</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">service_of_type(agent, type::Type{T}, default=nothing)::Union{T,Nothing} where {T}</code></pre><p>Return the current agent service of the type <code>type</code>. </p><p>If a default is set, this default service will be added to the agent as service of te type `type. The function is especially useful if you want to extend the functionality of the agent without having to change the internals of the agent, as this functions enables the user to add  arbitrary data to the agent on which functions can be defined.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.services-Tuple{Agent}" href="#Mango.services-Tuple{Agent}"><code>Mango.services</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">services(agent)::Dict{DataType,Any}</code></pre><p>Return a list of services, which were added to the agent.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.shutdown-Tuple{Agent}" href="#Mango.shutdown-Tuple{Agent}"><code>Mango.shutdown</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">shutdown(agent)</code></pre><p>Will be called on shutdown of the container, in which the agent is living</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.stop_all_tasks-Tuple{Agent}" href="#Mango.stop_all_tasks-Tuple{Agent}"><code>Mango.stop_all_tasks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">stop_all_tasks(agent::Agent)</code></pre><p>Delegates to the scheduler <code>Scheduler</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.stop_and_wait_for_all_tasks-Tuple{Agent}" href="#Mango.stop_and_wait_for_all_tasks-Tuple{Agent}"><code>Mango.stop_and_wait_for_all_tasks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">stop_and_wait_for_all_tasks(agent::Agent)</code></pre><p>Delegates to the scheduler <code>Scheduler</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.stop_task-Tuple{Agent, Task}" href="#Mango.stop_task-Tuple{Agent, Task}"><code>Mango.stop_task</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">stop_task(agent::Agent, t::Task)</code></pre><p>Delegates to the scheduler <code>Scheduler</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.wait_for_all_tasks-Tuple{Agent}" href="#Mango.wait_for_all_tasks-Tuple{Agent}"><code>Mango.wait_for_all_tasks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">wait_for_all_tasks(agent::Agent)</code></pre><p>Delegates to the scheduler <code>Scheduler</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.AgentContext" href="#Mango.AgentContext"><code>Mango.AgentContext</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Context of the agent. Represents the environment for the specific agent. Therefore it includes a  connection to the container, including all functions used for interacting with the environment for the agent.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.AgentRoleHandler" href="#Mango.AgentRoleHandler"><code>Mango.AgentRoleHandler</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Internal data regarding the roles.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.@role-Tuple{Any}" href="#Mango.@role-Tuple{Any}"><code>Mango.@role</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Macro for defining a role struct. Expects a struct definition as argument.</p><p>The macro does 3 things:</p><ol><li>It adds all baseline fields, defined in <code>ROLE_BASELINE_FIELDS</code> (the role context)</li><li>It adds the supertype <code>Role</code> to the given struct.</li><li>It applies <a href="#Mango.@with_def-Tuple{Any}"><code>@with_def</code></a> for default construction, the baseline fields are assigned to default values</li></ol><p>For example the usage could like this.</p><pre><code class="language-julia hljs">@role struct MyRole
	my_own_field::String
end

# results in

@with_def mutable struct MyRole &lt;: Role
	# baseline fields...
	my_own_field::String
    my_own_field_with_default::String = &quot;Default&quot;
end

# so youl would construct your role like this

my_roel = MyRole(&quot;own value&quot;, my_own_field_with_default=&quot;OtherValue&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.@shared-Tuple{Any}" href="#Mango.@shared-Tuple{Any}"><code>Mango.@shared</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Mark the field as shared across roles. </p><p>This only works on structs with empty default constructor. Internally the marked field will be initialized with a model created by <a href="#Mango.get_model-Tuple{Role, DataType}"><code>get_model</code></a>. The model will be set when the Role is added to an agent.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@kwdef struct Model
    field::Int = 0
end
@role struct MyRole
    @shared
    my_model::Model # per agent the exact same in every agent.
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.bind_context-Tuple{Role, RoleContext}" href="#Mango.bind_context-Tuple{Role, RoleContext}"><code>Mango.bind_context</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Internal function, used to initialize to role for a specified agent</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.emit_event-Tuple{Role, Any}" href="#Mango.emit_event-Tuple{Role, Any}"><code>Mango.emit_event</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">emit_event(role::Role, event::Any; event_type::Any=nothing)</code></pre><p>Emit an event to their subscriber.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.get_model-Tuple{Role, DataType}" href="#Mango.get_model-Tuple{Role, DataType}"><code>Mango.get_model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_model(role::Role, type::DataType)</code></pre><p>Get a shared model from the pool. If the model does not exist yet, it will be created. Only types with default constructor are allowed!</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@kwdef struct ExampleModel
    my_field::Int = 0
end
role = ExampleRole()
model::ExampleModel = get_model(role, ExampleModel)
model.my_field = 1
model2::ExampleModel = get_model(role, ExampleModel)
# model == model2, it will also be the same for every role!</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.handle_event-Tuple{Role, Role, Any}" href="#Mango.handle_event-Tuple{Role, Role, Any}"><code>Mango.handle_event</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">handle_event(role::Role, src::Role, event::Any; event_type::Any)</code></pre><p>Default function for arriving events, which get dispatched to the role.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.handle_message-Tuple{Role, Any, Any}" href="#Mango.handle_message-Tuple{Role, Any, Any}"><code>Mango.handle_message</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Default function for arriving messages, which get dispatched to the role. This function will be called for every message arriving at the agent of the role.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.setup-Tuple{Role}" href="#Mango.setup-Tuple{Role}"><code>Mango.setup</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">setup(role::Role)</code></pre><p>Hook-in function to setup the role, after it has been added to its agent.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.subscribe_event" href="#Mango.subscribe_event"><code>Mango.subscribe_event</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">subscribe_event(role::Role, event_type::Any, event_handler::Any, condition::Function)</code></pre><p>Subscribe to specific types of events. </p><p>The types of events are determined by the <code>condition</code> function (accepting <code>src</code> and <code>event</code>) and  by the <code>event_type</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">struct MyEvent end
function custom_handler(role::Role, src::Role, event::Any, event_type::Any)
    # do your thing
end
subscribe_event(my_role, MyEvent, custom_handler, (src, event) -&gt; aid(src) == &quot;agent0&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.subscribe_message-Tuple{Role, Function, Function}" href="#Mango.subscribe_message-Tuple{Role, Function, Function}"><code>Mango.subscribe_message</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">subscribe_message(role::Role, handler::Function, condition::Function)</code></pre><p>Subscribe a message handler function (it need to have the signature (role, message, meta)) to the message dispatching. This handler function will be called everytime the given condition function ((message, meta) -&gt; boolean) evaluates to true when a message arrives at the roles agent.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.subscribe_send-Tuple{Role, Function}" href="#Mango.subscribe_send-Tuple{Role, Function}"><code>Mango.subscribe_send</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">subscribe_send(role::Role, handler::Function)</code></pre><p>Subscribe a <code>send_message</code> hook in function (signature, (role, content, receiver<em>id, receiver</em>addr; kwargs...)) to the message sending. The hook in function will be called every time a message is sent by the agent.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.Role" href="#Mango.Role"><code>Mango.Role</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Defines the type Role, which is the common base types for all roles in mango.</p><p>A Role is a bundled behavivor of an agent, which shall fulfill exactly one  responsibility of an agent - the role. Technically speaking roles are the way to implement the composition pattern for agents, and to introduce modular archetypes, which shall be reused in different contexts. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.RoleContext" href="#Mango.RoleContext"><code>Mango.RoleContext</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The <code>RoleContext</code> connects the role with its environment, which is mostly its agents. This is abstracted using the <code>AgentInterface</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><h1 id="Real-time-container"><a class="docs-heading-anchor" href="#Real-time-container">Real time container</a><a id="Real-time-container-1"></a><a class="docs-heading-anchor-permalink" href="#Real-time-container" title="Permalink"></a></h1><p>This part contains the API related to the container construction, access and management.</p><article class="docstring"><header><a class="docstring-binding" id="Mango.SENDER_ADDR" href="#Mango.SENDER_ADDR"><code>Mango.SENDER_ADDR</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Key for the sender address in the meta dict</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.SENDER_ID" href="#Mango.SENDER_ID"><code>Mango.SENDER_ID</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Key for the sender in the meta dict</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.TRACKING_ID" href="#Mango.TRACKING_ID"><code>Mango.TRACKING_ID</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Key for the tracking number used for dialogs in the meta dict</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.AgentAddress" href="#Mango.AgentAddress"><code>Mango.AgentAddress</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Default AgentAddress base type, where the agent identifier is based on the container created agent id (aid). Used with the TCP protocol.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.ContainerInterface" href="#Mango.ContainerInterface"><code>Mango.ContainerInterface</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Supertype of every container implementation. This acts as an interface to be used by the agents in their contexts.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.MQTTAddress" href="#Mango.MQTTAddress"><code>Mango.MQTTAddress</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Connection information for an MQTT topic on a given broker.  Used with the MQTT protocol. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.agents-Tuple{ContainerInterface}" href="#Mango.agents-Tuple{ContainerInterface}"><code>Mango.agents</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">agents(container)</code></pre><p>Return the agents of the container. The agents have a fixed order.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.notify_ready-Tuple{ContainerInterface}" href="#Mango.notify_ready-Tuple{ContainerInterface}"><code>Mango.notify_ready</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">notify_ready(container::Container)</code></pre><p>Mark the agent system as ready.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.protocol_addr-Tuple{ContainerInterface}" href="#Mango.protocol_addr-Tuple{ContainerInterface}"><code>Mango.protocol_addr</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">protocol_addr(container)</code></pre><p>Return technical address of the container.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.register" href="#Mango.register"><code>Mango.register</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">register(
container,
agent,
suggested_aid::Union{String,Nothing}=nothing;
kwargs...,</code></pre><p>)</p><p>Register the agent to the container. Retun the agent itself for convenience.</p><p>Normally the aid is generated, however it is possible to suggest an aid, which will be used if it has not been used yet and if it is not conflicting with the default naming pattern (agent0, agent1, ...)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.send_message" href="#Mango.send_message"><code>Mango.send_message</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">send_message(
container::ContainerInterface,
content::Any,
address::Address,
sender_id::Union{Nothing,String}=nothing;
kwargs...,</code></pre><p>)</p><p>Send a message <code>message</code> using the given container <code>container</code> to the given address. Additionally, further keyword arguments can be defines to fill the internal meta data of the message.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.shutdown-Tuple{ContainerInterface}" href="#Mango.shutdown-Tuple{ContainerInterface}"><code>Mango.shutdown</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">shutdown(container)</code></pre><p>Shutdown the container. Here all loops are closed, resources freed. It is recommended to use <a href="#Mango.activate-Union{Tuple{T}, Tuple{Function, Vector{T}}} where T&lt;:ContainerInterface"><code>activate</code></a>  instead of shutting down manually.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.start-Tuple{ContainerInterface}" href="#Mango.start-Tuple{ContainerInterface}"><code>Mango.start</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">start(container)</code></pre><p>Start the container. It is recommended to use <a href="#Mango.activate-Union{Tuple{T}, Tuple{Function, Vector{T}}} where T&lt;:ContainerInterface"><code>activate</code></a> instead of starting manually.</p><p>What exactly happend highly depends on the protocol and the container implmentation. For example, for TCP the container binds on IP and port, and the listening loop started.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.Container" href="#Mango.Container"><code>Mango.Container</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The default container struct, representing the container as actor. The container is implemented by composition. This means the container consists of different implementations of base types, which define the behavior of the container itself. That being said, the same container generally able to send messages via different protocols using different codecs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.send_message-Tuple{Container, Any, MQTTAddress, Vararg{Any}}" href="#Mango.send_message-Tuple{Container, Any, MQTTAddress, Vararg{Any}}"><code>Mango.send_message</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">send_message(
container::Container,
content::Any,
mqtt_address::MQTTAddress,
kwargs...,</code></pre><p>)</p><p>Send message version for MQTT topics.  Note that there is no local message forwarding here because messages always get pushed to a broker and are not directly addressed to an agennt.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.MQTTProtocol" href="#Mango.MQTTProtocol"><code>Mango.MQTTProtocol</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Protocol that abstracts a <a href="https://github.com/denglerchr/Mosquitto.jl">Mosquitto.jl</a> client for Mango agents.</p><p><strong>Creation</strong></p><pre><code class="nohighlight hljs">MQTTProtocol(client_id::String, broker_addr::InetAddr)</code></pre><p>Create an MQTT client that connects to the broker at <code>broker_addr</code> with a <code>client_id</code>.</p><p><strong>Fields</strong></p><ul><li>client - Mosquitto.jl client</li><li>broker_addr - address of the MQTT broker to connect to</li><li>connected - internal flag indicating connection status</li><li>active - internal flag indicating listen loop activity</li><li>msg_channel - message channel of the MQTT client</li><li>conn_channel - connection channel of the MQTT client</li><li>topic<em>to</em>aid - internal dictionary to track which registered agent is subscribed to which topic</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.close-Tuple{MQTTProtocol}" href="#Base.close-Tuple{MQTTProtocol}"><code>Base.close</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">close(protocol::MQTTProtocol)</code></pre><p>Disconnect the client from the broker and stop the message loop.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.id-Tuple{MQTTProtocol}" href="#Mango.id-Tuple{MQTTProtocol}"><code>Mango.id</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">id(protocol::MQTTProtocol)</code></pre><p>Return the name the client is registered with at its broker.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.init-Tuple{MQTTProtocol, Function, Function}" href="#Mango.init-Tuple{MQTTProtocol, Function, Function}"><code>Mango.init</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">init(protocol::MQTTProtocol, stop_check::Function, data_handler::Function)</code></pre><p>Initialize the Mosquitto looping task for the provided <code>protocol</code> and forward incoming messages to <code>data_handler</code>. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.notify_register-Tuple{MQTTProtocol, String}" href="#Mango.notify_register-Tuple{MQTTProtocol, String}"><code>Mango.notify_register</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">notify_register(protocol::MQTTProtocol, aid::String; kwargs...)</code></pre><p>Notify the <code>protocol</code> MQTT client that a new agent with <code>aid</code> has been registered. </p><p>Registration expects a kwarg <code>topics</code> to subscribe the agent to.  If any topic is not yet subscribed by the client <code>subscribe</code> is called for it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.parse_id-Tuple{MQTTProtocol, Any}" href="#Mango.parse_id-Tuple{MQTTProtocol, Any}"><code>Mango.parse_id</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">parse_id(_::MQTTProtocol, id::Any)::String</code></pre><p>Return the <code>id</code> of the protocol as string (for compliance with container core).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.send-Tuple{MQTTProtocol, String, Any}" href="#Mango.send-Tuple{MQTTProtocol, String, Any}"><code>Mango.send</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">send(protocol::MQTTProtocol, destination::String, message::Any)</code></pre><p>Send a <code>message</code> to topic <code>destination</code> on the clients MQTT broker. </p><p><strong>Returns</strong></p><p>Return value and message id from MQTT library.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.subscribe-Tuple{MQTTProtocol, String}" href="#Mango.subscribe-Tuple{MQTTProtocol, String}"><code>Mango.subscribe</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">subscribe(protocol::MQTTProtocol, topic::String; qos::Int=1)</code></pre><p>Subscribe the MQTT client of the <code>protocol</code> to <code>topic</code> with the given <code>qos</code> setting.</p><p><strong>Returns</strong></p><p>The Mosquitto error code and the message id.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.Protocol" href="#Mango.Protocol"><code>Mango.Protocol</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Type for all implementations of protocols, acts like an interface. A protocol defines the way message are processed and especially sent and received  to an other peer. F.E. A protocol could be to send messages using a plain TCP connection, which would indicate that an internet address (host + port) is required for the communication.</p><p>The parameterized type T indicates type, which defines the address data of the receiver and sender.</p><p>Every protocol has to define two methods.</p><ol><li>send: defines the behavior of the protocol when an agents sends a messages</li><li>init: defines the necessary steps to initialize (especially) the receiver loop and</li></ol><pre><code class="nohighlight hljs">	 therefore accepts a stop check and a data handler function to indicate when the receiver should stop, 
	 respectively how to dispatch the received message to the correct agent</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.id-Union{Tuple{Protocol{T}}, Tuple{T}} where T" href="#Mango.id-Union{Tuple{Protocol{T}}, Tuple{T}} where T"><code>Mango.id</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">id(protocol::Protocol{T}) where {T}</code></pre><p>Return the external identifier associated with the protocol (e.g. it could be the host+port, dns name, ...)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.init-Union{Tuple{T}, Tuple{Protocol{T}, Function, Function}} where T" href="#Mango.init-Union{Tuple{T}, Tuple{Protocol{T}, Function, Function}} where T"><code>Mango.init</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">init(protocol::Protocol{T}, stop_check::Function, data_handler::Function) where {T}</code></pre><p>Initialized the protocols internal loops (if exists). In most implementation this would mean that the receiver loop is started. To handle received messages the <code>data_handler</code> function can be passed <code>(msg, sender) -&gt; your handling code</code>. </p><p>To control the lifetime of the loops a stop_check should be passed (() -&gt; boolean). If the stop check is true the loops will  terminate. The exact behavior depends on the implementation though.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.notify_register-Union{Tuple{T}, Tuple{Protocol{T}, String}} where T" href="#Mango.notify_register-Union{Tuple{T}, Tuple{Protocol{T}, String}} where T"><code>Mango.notify_register</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">notify_register(protocol::Protocol{T}, aid::String; kwargs...) where {T}</code></pre><p>Protocol specific updates called when a new agent is registered.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.parse_id-Union{Tuple{T}, Tuple{Protocol{T}, Any}} where T" href="#Mango.parse_id-Union{Tuple{T}, Tuple{Protocol{T}, Any}} where T"><code>Mango.parse_id</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">parse_id(protocol::Protocol{T}, id_data::Any)::T where {T}</code></pre><p>Parse different types to the correct type (if required). Should be implemented if the id type is not trivial.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.send-Union{Tuple{T}, Tuple{Protocol{T}, T, Any}} where T" href="#Mango.send-Union{Tuple{T}, Tuple{Protocol{T}, T, Any}} where T"><code>Mango.send</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">send(protocol::Protocol{T}, destination::T, message::Any) where {T}</code></pre><p>Send the message <code>message</code> to the agent known by the adress <code>destination</code>. How the message is exactly handled is  determined by the protocol invoked. </p><p>The type of the destination has to match with the protocol. The function returns a boolean indicating  whether the message was successfull sent</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.TCPProtocol" href="#Mango.TCPProtocol"><code>Mango.TCPProtocol</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Defines the tcp protocol. It holds a binding to an IP+Port and a tcp connection pool.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.close-Tuple{Mango.TCPConnectionPool}" href="#Base.close-Tuple{Mango.TCPConnectionPool}"><code>Base.close</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">close(pool::TCPConnectionPool)</code></pre><p>Close the pool. This closes all connections. Further, this function will wait until all connection are released.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.close-Tuple{TCPProtocol}" href="#Base.close-Tuple{TCPProtocol}"><code>Base.close</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">close(protocol::TCPProtocol)</code></pre><p>Release all tcp resources (binding on port and connections in the pool).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.acquire_tcp_connection-Tuple{Mango.TCPConnectionPool, Sockets.InetAddr}" href="#Mango.acquire_tcp_connection-Tuple{Mango.TCPConnectionPool, Sockets.InetAddr}"><code>Mango.acquire_tcp_connection</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">acquire_tcp_connection(tcp_pool::TCPConnectionPool, key::InetAddr)::Union{TCPSocket,Nothing}</code></pre><p>Acquire a tcp connection from the pool for the key (IP+Port). Return a TCPSocket if the pool is not closed yet, otherwise <code>nothing</code> will be returned</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.id-Tuple{TCPProtocol}" href="#Mango.id-Tuple{TCPProtocol}"><code>Mango.id</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">id(protocol::TCPProtocol)</code></pre><p>Return the technical address of the protocol (ip + port)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.init-Tuple{TCPProtocol, Function, Function}" href="#Mango.init-Tuple{TCPProtocol, Function, Function}"><code>Mango.init</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">init(protocol::TCPProtocol, stop_check::Function, data_handler::Function)</code></pre><p>Initialized the tcp protocol. This starts the receiver and stop loop. The receiver loop will call the data_handler with every incoming message. Further it provides as sender adress a InetAddr object. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.parse_id-Tuple{TCPProtocol, Any}" href="#Mango.parse_id-Tuple{TCPProtocol, Any}"><code>Mango.parse_id</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">parse_id(_::TCPProtocol, id::Any)::InetAddr</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.release_tcp_connection-Tuple{Mango.TCPConnectionPool, Sockets.InetAddr, Sockets.TCPSocket}" href="#Mango.release_tcp_connection-Tuple{Mango.TCPConnectionPool, Sockets.InetAddr, Sockets.TCPSocket}"><code>Mango.release_tcp_connection</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">release_tcp_connection(
tcp_pool::TCPConnectionPool,
key::InetAddr,
connection::TCPSocket,</code></pre><p>)</p><p>Release the given tcp <code>connection</code> indexed by the <code>key</code>. This will put the connection back to the pool.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.send-Tuple{TCPProtocol, Sockets.InetAddr, Vector{UInt8}}" href="#Mango.send-Tuple{TCPProtocol, Sockets.InetAddr, Vector{UInt8}}"><code>Mango.send</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">send(protocol::TCPProtocol, destination::InetAddr, message::Vector{UInt8})</code></pre><p>Send a message <code>message</code> over plain TCP using <code>destination</code> as destination address. The message has to be provided  as a form, which is writeable to an arbitrary IO-Stream.</p><p>Return true if successfull.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><h1 id="Simulation"><a class="docs-heading-anchor" href="#Simulation">Simulation</a><a id="Simulation-1"></a><a class="docs-heading-anchor-permalink" href="#Simulation" title="Permalink"></a></h1><p>In the following the APIs regarding the simulation container are listed.</p><article class="docstring"><header><a class="docstring-binding" id="Mango.SimulationContainer" href="#Mango.SimulationContainer"><code>Mango.SimulationContainer</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The SimulationContainer used as a base struct to enable simulations in Mango.jl. Shall be created using <a href="#Mango.create_simulation_container-Tuple{Dates.DateTime}"><code>create_simulation_container</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.SimulationResult" href="#Mango.SimulationResult"><code>Mango.SimulationResult</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Result of one simulation step.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.TaskSimulationResult" href="#Mango.TaskSimulationResult"><code>Mango.TaskSimulationResult</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Result of all task simulation iterations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.create_simulation_container-Tuple{Dates.DateTime}" href="#Mango.create_simulation_container-Tuple{Dates.DateTime}"><code>Mango.create_simulation_container</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_simulation_container(start_time::DateTime; communication_sim::Union{Nothing,CommunicationSimulation}=nothing, task_sim::Union{Nothing,TaskSimulation}=nothing)</code></pre><p>Create a simulation container. The container is intitialized with <code>start_time</code>. </p><p>Per default the <a href="#Mango.SimpleCommunicationSimulation"><code>SimpleCommunicationSimulation</code></a> is used for communication simulation, and <a href="#Mango.SimpleTaskSimulation"><code>SimpleTaskSimulation</code></a> for simulating the tasks of agents. To replace these, <code>communication_sim</code> and respectively <code>task_sim</code> can be set.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.on_step-Tuple{Agent, World, Clock, Real}" href="#Mango.on_step-Tuple{Agent, World, Clock, Real}"><code>Mango.on_step</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">on_step(agent::Agent, world::World, clock::Clock, step_size_s::Real)</code></pre><p>Hook-in, called on every step of the simulation container for every <code>agent</code>.</p><p>Further, the <code>world</code> is passed, which represents a common view on the environment in which agents can interact with eachother. Besides, the <code>clock</code> and the <code>step_size_s</code> can be used to read the current simulation time and the time which passes in the current step.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.step_simulation" href="#Mango.step_simulation"><code>Mango.step_simulation</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">step_simulation(container::SimulationContainer, step_size_s::Real=DISCRETE_EVENT)::Union{SimulationResult,Nothing}</code></pre><p>Step the simulation using a continous time-span or until the next event happens. </p><p>For the continous simulation a <code>step_size_s</code> can be freely chosen, for the discrete event type  DISCRETE<em>EVENT has to be set for the `step</em>size_s`.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.CommunicationSimulation" href="#Mango.CommunicationSimulation"><code>Mango.CommunicationSimulation</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Interface to implement a communication simulation. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.CommunicationSimulationResult" href="#Mango.CommunicationSimulationResult"><code>Mango.CommunicationSimulationResult</code></a> — <span class="docstring-category">Type</span></header><section><div><p>List of package results</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.MessagePackage" href="#Mango.MessagePackage"><code>Mango.MessagePackage</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Struct describing a mesage between two agents.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.PackageResult" href="#Mango.PackageResult"><code>Mango.PackageResult</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Package result </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.SimpleCommunicationSimulation" href="#Mango.SimpleCommunicationSimulation"><code>Mango.SimpleCommunicationSimulation</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Default Implementation Communication Sim.</p><p>Implements a default delay which determines the delay of all messages if not specified in  <code>delay_s_directed_edge_dict</code>. The dict can contain a mapping (aid<em>sender, aid</em>receiver) -&gt; delay, such that the delay is specified for every link between agents.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.calculate_communication-Tuple{CommunicationSimulation, Clock, Vector{MessagePackage}}" href="#Mango.calculate_communication-Tuple{CommunicationSimulation, Clock, Vector{MessagePackage}}"><code>Mango.calculate_communication</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">calculate_communication(communication_sim::CommunicationSimulation, clock::Clock, messages::Vector{MessagePackage})::CommunicationSimulationResult</code></pre><p>Calculate the communication using the specific communication simulation type. the current simulation time <code>clock</code> and the message which shall be sent in this step <code>messages</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.calculate_communication-Tuple{SimpleCommunicationSimulation, Clock, Vector{MessagePackage}}" href="#Mango.calculate_communication-Tuple{SimpleCommunicationSimulation, Clock, Vector{MessagePackage}}"><code>Mango.calculate_communication</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Implementation for SimpleCommunicationSimulation</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.SimpleTaskSimulation" href="#Mango.SimpleTaskSimulation"><code>Mango.SimpleTaskSimulation</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Default implementation of the interface.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.SimulationScheduler" href="#Mango.SimulationScheduler"><code>Mango.SimulationScheduler</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Specific scheduler, defined to be injected to the agents and intercept scheduling  calls and especially the sleep calls while scheduling. This struct manages all necessary times and events, which shall fulfill the purpose to step the tasks only for a given step_size.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.TaskIterationResult" href="#Mango.TaskIterationResult"><code>Mango.TaskIterationResult</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Define the result of an whole iteration of the task simulation</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.TaskResult" href="#Mango.TaskResult"><code>Mango.TaskResult</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Defines the result of a task.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.TaskSimulation" href="#Mango.TaskSimulation"><code>Mango.TaskSimulation</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract type to define a TaskSimulation</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.create_agent_scheduler-Tuple{TaskSimulation}" href="#Mango.create_agent_scheduler-Tuple{TaskSimulation}"><code>Mango.create_agent_scheduler</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_agent_scheduler(task_sim::TaskSimulation)</code></pre><p>Create the scheduler used in the agents by the given <code>task_sim</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.step_iteration-Tuple{TaskSimulation, Real}" href="#Mango.step_iteration-Tuple{TaskSimulation, Real}"><code>Mango.step_iteration</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">step_iteration(task_sim::TaskSimulation, step_size_s::Real)::TaskIterationResult</code></pre><p>Execute an iteration for a step of the simulation, which time is stepped with the <code>step_size_s</code>. </p><p>Can be called repeatedly if new tasks are spawn as a result of other tasks or as result of arriving messages. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><h1 id="Scheduling"><a class="docs-heading-anchor" href="#Scheduling">Scheduling</a><a id="Scheduling-1"></a><a class="docs-heading-anchor-permalink" href="#Scheduling" title="Permalink"></a></h1><p>In the following the APIs for scheduling TaskData is listed.</p><article class="docstring"><header><a class="docstring-binding" id="Mango.AbstractScheduler" href="#Mango.AbstractScheduler"><code>Mango.AbstractScheduler</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract type for a scheduler</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.AwaitableTaskData" href="#Mango.AwaitableTaskData"><code>Mango.AwaitableTaskData</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Schedule the function when the given <code>awaitable</code> is finished. Can be used  with any type for which <code>wait</code> is defined.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.Clock" href="#Mango.Clock"><code>Mango.Clock</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Default clock implementation, in which a static DateTime field is used.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.ConditionalTaskData" href="#Mango.ConditionalTaskData"><code>Mango.ConditionalTaskData</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Schedule the function when the <code>condition</code> is fulfilled. To check whether it is fulfilled the condition function is called every <code>check_interval_s</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.DateTimeTaskData" href="#Mango.DateTimeTaskData"><code>Mango.DateTimeTaskData</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Schedule the function at a specific time determined by the date::DateTime.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.InstantTaskData" href="#Mango.InstantTaskData"><code>Mango.InstantTaskData</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Instant task data. Functions scheduled with this data is scheduled instantly.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.PeriodicTaskData" href="#Mango.PeriodicTaskData"><code>Mango.PeriodicTaskData</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Task data describing a periodic task. </p><p>A periodic task is defined by an <code>interval_s</code> and optionally by a <code>condition</code>. The interval determines how long the delay is between the recurring action. The condition is a stopping condition (no argument) which shall return true if the task shall stop. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.Scheduler" href="#Mango.Scheduler"><code>Mango.Scheduler</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Default scheduler for the real time applications of Mango.jl.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.TaskData" href="#Mango.TaskData"><code>Mango.TaskData</code></a> — <span class="docstring-category">Type</span></header><section><div><p>TaskData type, which is the supertype for all data structs,  which shall describe a specific task type. Together with a new method execute task for the inherting struct, new types of tasks can be introduced.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">struct InstantTaskData &lt;: TaskData end
function execute_task(f::Function, scheduler::AbstractScheduler, data::InstantTaskData)
    f()
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.schedule-Tuple{Function, AbstractScheduler, TaskData}" href="#Base.schedule-Tuple{Function, AbstractScheduler, TaskData}"><code>Base.schedule</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">schedule(f::Function, scheduler, data::TaskData)</code></pre><p>Schedule a function (no arguments) using the specific scheduler (mostly the agent scheduler). The  functino <code>f</code> is scheduled using the information in <code>data</code>, which specifies the way <code>f</code> will be  scheduled.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.sleep_until-Tuple{Function}" href="#Mango.sleep_until-Tuple{Function}"><code>Mango.sleep_until</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">sleep_until(condition::Function)</code></pre><p>Sleep until the condition (no args -&gt; bool) is met.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.stop_all_tasks-Tuple{AbstractScheduler}" href="#Mango.stop_all_tasks-Tuple{AbstractScheduler}"><code>Mango.stop_all_tasks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">stop_all_tasks(scheduler::AbstractScheduler)</code></pre><p>Stopps all stoppable tasks managed by <code>scheduler</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.stop_and_wait_for_all_tasks-Tuple{AbstractScheduler}" href="#Mango.stop_and_wait_for_all_tasks-Tuple{AbstractScheduler}"><code>Mango.stop_and_wait_for_all_tasks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">stop_and_wait_for_all_tasks(scheduler::AbstractScheduler)</code></pre><p>Stopps all stoppable tasks and then wait for all tasks in <code>scheduler</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.stop_task-Tuple{AbstractScheduler, Task}" href="#Mango.stop_task-Tuple{AbstractScheduler, Task}"><code>Mango.stop_task</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">stop_task(scheduler::AbstractScheduler, t::Task)</code></pre><p>Stop the task <code>t</code> managed by <code>scheduler</code>. This only works if the task has been scheduled with the scheduler using a stoppable TaskData.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.wait_for_all_tasks-Tuple{AbstractScheduler}" href="#Mango.wait_for_all_tasks-Tuple{AbstractScheduler}"><code>Mango.wait_for_all_tasks</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">wait_for_all_tasks(scheduler::AbstractScheduler)</code></pre><p>Wait for all tasks managed by <code>scheduler</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><h1 id="Topology"><a class="docs-heading-anchor" href="#Topology">Topology</a><a id="Topology-1"></a><a class="docs-heading-anchor-permalink" href="#Topology" title="Permalink"></a></h1><p>In the following the APIs for creating, aplying and using topologies is listed.</p><article class="docstring"><header><a class="docstring-binding" id="Graphs.SimpleGraphs.add_edge!" href="#Graphs.SimpleGraphs.add_edge!"><code>Graphs.SimpleGraphs.add_edge!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_edge!(topology, node_id_from, node_id_to, directed=false)</code></pre><p>Add an edge to the topology from <code>node_id_from</code> to <code>node_id_to</code>. If <code>directed</code> is true a directed edge is added, otherwise an undirected edge is added.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.add!-Tuple{Mango.Node, Vararg{Agent}}" href="#Mango.add!-Tuple{Mango.Node, Vararg{Agent}}"><code>Mango.add!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">add!(node, agent::Agent...)</code></pre><p>Add an <code>agents</code> to the <code>node</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.add_node!-Tuple{Topology, Vararg{Agent}}" href="#Mango.add_node!-Tuple{Topology, Vararg{Agent}}"><code>Mango.add_node!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">add_node!(topology, agents::Agent...)::Int</code></pre><p>Add a node to the topology with a list (or a single) of agents attached.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.assign_agent-Tuple{Function, Topology, ContainerInterface}" href="#Mango.assign_agent-Tuple{Function, Topology, ContainerInterface}"><code>Mango.assign_agent</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">assign_agent(assign_condition::Function, topology::Topology, container::ContainerInterface)</code></pre><p>Assign all agents of the <code>container</code> to the nodes based on the given <code>assign_condition</code>, this condition  takes as <code>Agent</code> and a <code>Node</code> (node.id for the identifier of the node) and shall return a boolean indicating whether the agent shall be assigned to the node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.choose_agent-Tuple{Function, Topology}" href="#Mango.choose_agent-Tuple{Function, Topology}"><code>Mango.choose_agent</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">choose_agent(choose_agent_function::Function, topology::Topology)</code></pre><p>Choose the agents, which shall be assigned to the nodes. For this the <code>choose_agent_function</code> has to be provided. This  function expects <code>Node</code> as argument and shall return an <code>Agent</code> or <code>Agent...</code>. The returned agent will be assigned to the node.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.complete_topology-Tuple{Int64}" href="#Mango.complete_topology-Tuple{Int64}"><code>Mango.complete_topology</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">complete_topology(number_of_nodes)</code></pre><p>Create a fully-connected topology.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.create_topology-Tuple{Function}" href="#Mango.create_topology-Tuple{Function}"><code>Mango.create_topology</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_topology(create_runnable)::Topology</code></pre><p>Create a topology using the <code>create_runnable</code> function which is a one-argument function with an initially empty topology as argument.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">topology = create_topology() do topology
    agent = register(container, TopologyAgent())
    agent2 = register(container, TopologyAgent())
    agent3 = register(container, TopologyAgent())
    n1 = add_node!(topology, agent)
    n2 = add_node!(topology, agent2)
    n3 = add_node!(topology, agent3)
    add_edge!(topology, n1, n2)
    add_edge!(topology, n1, n3)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.cycle_topology-Tuple{Int64}" href="#Mango.cycle_topology-Tuple{Int64}"><code>Mango.cycle_topology</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">cycle_topology(number_of_nodes)</code></pre><p>Create a cycle topology.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.graph_topology-Tuple{Graphs.AbstractGraph}" href="#Mango.graph_topology-Tuple{Graphs.AbstractGraph}"><code>Mango.graph_topology</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">graph_topology(graph)</code></pre><p>Create a topology based on a Graphs.jl (abstract) graph.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.modify_topology-Tuple{Function, Topology}" href="#Mango.modify_topology-Tuple{Function, Topology}"><code>Mango.modify_topology</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">modify_topology(modify_runnable::Functino, topology::Topology)</code></pre><p>Modify a topology using the <code>modify_runnable</code> function which is a one-argument function with the provided topology as argument.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">modify_topology(my_topology) do topology
    agent = register(container, TopologyAgent())
    agent2 = register(container, TopologyAgent())
    agent3 = register(container, TopologyAgent())
    n1 = add_node!(topology, agent)
    n2 = add_node!(topology, agent2)
    n3 = add_node!(topology, agent3)
    add_edge!(topology, n1, n2)
    add_edge!(topology, n1, n3)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.per_node-Tuple{Function, Topology}" href="#Mango.per_node-Tuple{Function, Topology}"><code>Mango.per_node</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">per_node(assign_runnable, topology)</code></pre><p>Loops over the nodes of the <code>topology</code>, calls <code>assign_runnable</code> on every node to enable the caller to populate the node. After the loop finished the neighborhoods are created and injected into the agent. </p><p><strong>Example</strong></p><pre><code class="language-julia hljs">per_node(topology) do node
    add!(node, register(container, TopologyAgent()))
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.remove_edge!-Tuple{Topology, Int64, Int64}" href="#Mango.remove_edge!-Tuple{Topology, Int64, Int64}"><code>Mango.remove_edge!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">remove_edge!(topology::Topology, node_id_from::Int, node_id_to::Int)</code></pre><p>Remove the edge between <code>node_id_from</code> and <code>node_id_to</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.remove_node!-Tuple{Topology, Int64}" href="#Mango.remove_node!-Tuple{Topology, Int64}"><code>Mango.remove_node!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">remove_node!(topology::Topology, node_id::Int)</code></pre><p>Remove the node with the id <code>node_id</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.set_edge_state!-Tuple{Topology, Int64, Int64, Mango.State}" href="#Mango.set_edge_state!-Tuple{Topology, Int64, Int64, Mango.State}"><code>Mango.set_edge_state!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">set_state!(topology::Topology, node_id_from::Int, node_id_to::Int, state::State)</code></pre><p>Set the state of the state of the edge <code>(node_id_from, node_id_to)</code> to <code>state</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.star_topology-Tuple{Int64}" href="#Mango.star_topology-Tuple{Int64}"><code>Mango.star_topology</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">star_topology(number_of_nodes)</code></pre><p>Create a star topology.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.topology_neighbors" href="#Mango.topology_neighbors"><code>Mango.topology_neighbors</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">topology_neighbors(agent)</code></pre><p>Retrieve the neighbors of the <code>agent</code>, represented by their addresses. These vaues will be updated when a topology is applied using <code>per_node</code> or <code>create_topology</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><h1 id="Encoding/Decoding"><a class="docs-heading-anchor" href="#Encoding/Decoding">Encoding/Decoding</a><a id="Encoding/Decoding-1"></a><a class="docs-heading-anchor-permalink" href="#Encoding/Decoding" title="Permalink"></a></h1><p>In the following the built-in functions for encoding and decoding messages are listed.</p><article class="docstring"><header><a class="docstring-binding" id="Mango.decode" href="#Mango.decode"><code>Mango.decode</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">decode(buf::Vector{UInt8}, t::Type=OrderedDict{String, Any})</code></pre><p>Decode the data in <code>buf</code> into an object of type <code>t</code> using <code>LightBSON.bson_read</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; data = OrderedDict([&quot;test&quot; =&gt; 10])
OrderedDict{String, Int64} with 1 entry:
  &quot;test&quot; =&gt; 10

julia&gt; decode(encode(data))
OrderedDict{String, Any} with 1 entry:
  &quot;test&quot; =&gt; 10</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Mango.encode-Tuple{Any}" href="#Mango.encode-Tuple{Any}"><code>Mango.encode</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">encode(data::OrderedDict{String,Any})</code></pre><p>Encode <code>data</code> into a UInt8 buffer using LightBSON.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; data = OrderedDict([&quot;test&quot; =&gt; 10])
OrderedDict{String, Int64} with 1 entry:
  &quot;test&quot; =&gt; 10

julia&gt; encode(data)
19-element Vector{UInt8}:
 0x13
 0x00
 0x00
 0x00
 0x12
    ⋮
 0x00
 0x00
 0x00
 0x00
 0x00</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article><h1 id="Misc"><a class="docs-heading-anchor" href="#Misc">Misc</a><a id="Misc-1"></a><a class="docs-heading-anchor-permalink" href="#Misc" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="Mango.@with_def-Tuple{Any}" href="#Mango.@with_def-Tuple{Any}"><code>Mango.@with_def</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>This macro can be applied to struct definitions and adds the possibility to define default values on field declaration. In contrast to @kwdef or @with_kw, this macro will create normal parameters for construction if no default value has been provided.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@with_def struct ExampleStruct
    abc::Int = 0
    def::String
end

# can be constructed as follows
es = ExampleStruct(&quot;mydefstring&quot;) # abc == 0
es = ExampleStruct(&quot;mydefstring&quot;, abc=3) # abc == 3</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/OFFIS-DAI/Mango.jl">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../topology/">« Topologies</a><a class="docs-footer-nextpage" href="../legals/">Legals »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Tuesday 3 September 2024 15:09">Tuesday 3 September 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
